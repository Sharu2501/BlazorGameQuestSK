@page "/home"
@using BlazorGame.Client.Services
@inject NavigationManager NavigationManager
@inject AuthService AuthService

<link href="css/home.css" rel="stylesheet" />

<div class="home-container">
    <div class="home-overlay"></div>
    <div class="home-content">
        <h1>⚔️ BlazorGameQuest SK ⚔️</h1>
        <p>Bienvenue @AuthService.CurrentUsername !</p>
        <p>Prêt à affronter des monstres terrifiants ?</p>
        <img src="images/logo.png" alt="Logo" class="home-logo" />
        <button class="start-button" @onclick="StartAdventure">
            Commencer une nouvelle aventure
        </button>
    </div>
</div>

@code {
    protected override void OnInitialized()
    {
        if (!AuthService.IsAuthenticated)
        {
            NavigationManager.NavigateTo("/");
        }
    }

    private void StartAdventure()
    {
        NavigationManager.NavigateTo("/difficulty-selection");
    }
}